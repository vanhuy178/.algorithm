<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>"this" keyword in Javascript</h1>

</body>
<script>
    // 'this' keyword in method -> object
    // 'this' keyowrd in function -> global, window

    const video = {
        title: 'a',
        play() {
            console.log(this);
        }
    }

    video.stop = function () {
        console.log(this); // confuse it too much
    }

    // video.stop(); // stop is the method of the object

    function Video(title) {
        this.title = title;
        this.tags = [1, 2, 3];
        this.showTag = this.tags.map(function (tag) {
            console.log(this.title, tag);
        }, this)
        // this.handleCode = this.handleCode.bind(this)
    }
    let v = new Video('hello'); // if you use new keyword to call constructor function, it will create a new empty object and this will point to it
    // v.showTag();

    let person = {
        firstName: 'Huy',
        lastName: 'Nguyen',
        fullName: function (intro) {
            return intro + this.firstName + " " + this.lastName;
        }
    }

    console.log(person.fullName('I love you '));

    console.log(person.fullName.call({ firstName: 'Hiền', lastName: "Nguyễn" }, 'I love you '));
    let crush = person.fullName.bind({ firstName: 'Code', lastName: 'Beauty' }); // create a new function
    console.log(crush('I love you '));

    //Stack in JavaScript

    class Stack {
        constructor() {
            this.items = [];
        }

        // isEmpty
        // Pop
        // Push

        // 1 - Push()

        push(element) {
            return this.items.push(element);
        }

        pop() {
            if (this.items.length === 0) { // if stack is empty 
                return "Underflow";
            }
            return this.items.pop(); // remove the last element --> top element in stack
        }

        peek() {
            return this.items[this.items.length - 1]; //Return the top most element without removing it from the stack.
        }

        isEmpty() { // return true if stack is empty
            return this.items.length == 0;
        }
        // printStack function
        printStack() {
            var str = "";
            for (var i = 0; i < this.items.length; i++)
                str += this.items[i] + " ";
            return str;
        }

    }
    // creating object for stack class
    var stack = new Stack();

    // testing isEmpty and pop on an empty stack

    // returns false
    console.log(stack.isEmpty());

    // returns Underflow
    console.log(stack.pop());

    // Adding element to the stack
    stack.push(10);
    stack.push(20);
    stack.push(30);

    // Printing the stack element
    // prints [10, 20, 30]
    console.log(stack.printStack());

    // returns 30
    console.log(stack.peek());

    // returns 30 and remove it from stack
    console.log(stack.pop());

    // returns [10, 20]
    console.log(stack.printStack());


</script>

<script src="./bubbleSort.js">

</script>

</html>